"use strict";

var currentEnvironment = process.env.NODE_ENV;

if (!currentEnvironment) {
    throw(new Error("No environment set up"));
}

switch(currentEnvironment) {
    case "test":
        module.exports = {
            dynamoDb: {
                tables: {}
            },
            s3: {
                buckets: {}
            }
        };
        break;
    case "debug":
        module.exports = require('../../../config/debug.js');
        break;
    case "int":
        module.exports = require('../../../config/int.js');
        break;
    case "release":
        module.exports = require('../../../config/release.js');
        break;
    default:
        throw(new Error("No configuration for " + currentEnvironment));
}

module.exports.requestLoggerFormat = ':remote-addr :method :url :status :response-time';

module.exports.logger = require('../logger');